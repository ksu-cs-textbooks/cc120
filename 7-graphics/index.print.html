




	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="K-State CC 120 Textbook">
    <meta name="author" content="Nathan H. Bean">
    <title>Graphics :: K-State CC 120 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cc120/7-graphics/index.html" rel="canonical" type="text/html" title="Graphics :: K-State CC 120 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc120/7-graphics/index.xml" rel="alternate" type="application/rss+xml" title="Graphics :: K-State CC 120 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc120/7-graphics/tele.html" rel="alternate" type="text/html" title="Graphics :: K-State CC 120 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc120/7-graphics/embed.html" rel="alternate" type="text/html" title="Graphics :: K-State CC 120 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cc120/css/fontawesome-all.min.css?1692723302" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc120/css/fontawesome-all.min.css?1692723302" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc120/css/nucleus.css?1692723302" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc120/css/auto-complete.css?1692723302" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc120/css/auto-complete.css?1692723302" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc120/css/perfect-scrollbar.min.css?1692723302" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc120/css/fonts.css?1692723302" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc120/css/fonts.css?1692723302" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc120/css/theme.css?1692723302" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc120/css/theme-auto.css?1692723302" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cc120/css/variant.css?1692723302" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc120/css/print.css?1692723302" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cc120/css/format-print.css?1692723302" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc120/css/ie.css?1692723302" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cc120/js/url.js?1692723302"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc120/js/variant.js?1692723302"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cc120/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cc120/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cc120/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cc120/css/custom.css?1692723302" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cc120/7-graphics/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cc120/7-graphics/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cc120/7-graphics/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc120/index.html"><span itemprop="name">CC 120: Web Page Development</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Graphics</span><meta itemprop="position" content="2"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 7</div>
<h1 id="graphics">Graphics</h1>

<h3 id="graphics">Graphics</h3>
<p>Bringing visual expression to the web.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Graphics</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>In computer graphics, we have two primary approaches to representing graphical information, <em>raster</em> and <em>vector</em> representations.</p>
<p>Raster graphics take their name from the scan pattern of a cathode-ray tube, such as was used in older television sets and computer monitors.  These, as well as modern monitors, rely on a regular grid of pixels composed of three colors of light (red, green, and blue) that are mixed at different intensities to create all colors of the visible spectrum.</p>
<style>
    figure.bordered {
        border: 1px solid green;
        padding: 2rem;
    }
    figure.
</style>
<figure class="bordered"><img src="https://ksu-cs-textbooks.github.io/cc120/images/cathode-ray-tube.png"
         alt="A cathode ray tube cutwaway diagram with numbered parts."/><figcaption>
            <h4>Cathode Ray Tube</h4><p>A cathode ray tube (CRT) screen works by firing electrons out of an electron gun (1) through electromagnetic coils (2) that steer them through a perforated mask (3) that separates the electrons corresponding to the red, green, and blue components of an individual pixels.  These electrons then strike the phosphor-coated back of the screen (4), causing it to emit photons of a particular wavelength.Image courtesy of Søren Peo Pedersen, made available through the creative commons share-alike 3.0 license.</p>
        </figcaption>
</figure>

<p>This inheritance from CRT monitors is important, because it affects several details about how computer graphics are implemented.  Because CRT screens blend three colors of light (red, green, and blue) at different intensities, they needed to be supplied these intensities, and they needed to be grouped together into single pixels, as the electron gun can only light up a single cluster of phosphorus dots at once.  The illusion of a continuous image is generated because the electron beam scans across the back of the screen so rapidly that the pixels appear to be constantly lit.</p>
<p>The scanning pattern the electron beam takes begins at the upper left corner of the screen, and sweeps from left to right.  When the right edge of the screen is reached, then the beam drops to the next row, and again scans left to right.  This continues until the lower right corner is reached, at which point the beam begins back in the upper left-hand corner - just like reading a book in the English language.  CRT screens were first used in analog televisions, which receive a continuous signal that streams pixel intensities, so this made a lot of sense to the engineers designing them.  When computers first started needing monitors, the existing CRT technology was adapted to fit them - as a result, in computer graphics, the origin is in the upper left corner of the screen, and the y-axis increases in a downward direction:</p>
<figure><img src="https://ksu-cs-textbooks.github.io/cc120/images/7.1.2.png"
         alt="Screen/Computer graphics coordinate system"/><figcaption>
            <p>
                    <a href="http://inetjava.sourceforge.net/lectures/part2_applets/InetJava-2.1-2.2-Introduction-to-AWT-and-Applets.html">Image taken from inetjava.sourceforge.net and believed to be public domain.</a></p>
        </figcaption>
</figure>


  
  
<div class="box notices cstyle warning">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div>
  <div class="box-content">

<p>The origin being located in the upper-left corner and the Y-axis increasing in a downward direction sometimes confuses novice programmers, who expect the origin to be in the lower right corner and the y-axis to increase in an upward direction, as is the case in <a href="https://en.wikipedia.org/wiki/Euclidean_geometry" target="_blank">Euclidean geometry</a>
.</p>
</div>
</div>
<p>Additionally, early computers needed a location to store what should be displayed on the screen, which the computer’s VGA card could then continuously stream from to correctly display on-screen.  This video memory consisted of a linear array of pixel data - each pixel was typically represented by three eight-bit numbers corresponding to the intensity of the red, green, and blue for each pixel.  Thus, each intensity would range from 0 (fully off) to 255 (fully on; remember, $2^8 = 256$).  This was, in the early days of computers, quite memory-consumptive (a VGA monitor would use 640 x 489 x 3 bytes, or 900 kilobytes to hold the screen’s data), so many early graphics cards supported alternative graphics modes used a color lookup table and kept corresponding indices in the linear array.  While this is no longer common in modern computer equipment, some simple embedded systems still utilize these kinds of video modes.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="raster-graphic-files">Raster Graphic Files</h1>

<p>Unsurprisingly, graphic files that store their data in a raster format borrow heavily from the representations discussed <a href="https://ksu-cs-textbooks.github.io/cc120/7-graphics/01-introduction/">previously</a>
.  Typically, a graphic file consists of two parts, a <em>head</em> and a <em>body</em>.  This is very much like how the <code>&lt;head&gt;</code> of a HTML file provides metadata about the page and the <code>&lt;body&gt;</code> contains the actual page contents. For a raster graphic file, the head of the file contains metadata describing the image itself - the color format, along with the width and height of the image.  The body contains the actual raster data, in a linear array much like that used by the computer screen.</p>
<p>This data may be compressed, depending on the file format used.  Some compression algorithms, like the one used in JPEG files, are lossy (that is, they “lose” some of the fine detail of the image as a side-effect of the compression algorithm).  Tagged image file format (tiff), bitmaps (bmp), and portable network graphics (png) are popular formats for the web with the latter (png) especially suitable for websites.</p>
<p>The origin of a raster graphic file is also in the upper left corner, and the raster data is typically comprised of three or four eight-bit color channels corresponding to Red, Green, Blue, and Alpha (the alpha channel is typically used to represent the opacity of the pixel, with 255 being completely solid and 0 being completely transparent).  Because the raster data for video memory and for raster graphic files are ordered in the same way, putting a raster graphic on-screen simply requires copying the pixel data from one linear array into the other - a relatively fast process (Computer scientists would describe it as having a complexity of $O(n)$).</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="html-raster-graphics">HTML Raster Graphics</h1>

<p>The most obvious use of raster graphics in HTML is the <code>&lt;img&gt;</code> element, a HTML element that embodies a single raster graphic image.  It is defined with the an img tag:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#a6e22e">alt</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>&gt;</span></span></code></pre></div><p>The <code>src</code> attribute is a relative or absolute url of an image file, and the <code>alt</code> attribute provides a textual description of what the image portrays.  It is what the browser displays if the image file does not load, and is also important for screen readers (as discussed in <a href="https://ksu-cs-textbooks.github.io/cc120/6-accessibility/">Chapter 6</a>
).</p>
<p>Any HTML element can also be given a raster graphic to use as a background through the CSS <code>background-image</code> property:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#f92672">background-image</span><span style="color:#f92672">(</span><span style="color:#f92672">url</span><span style="color:#f92672">([</span><span style="color:#f92672">route</span><span style="color:#f92672">/</span><span style="color:#f92672">to</span><span style="color:#f92672">/</span><span style="color:#f92672">file</span><span style="color:#f92672">]));</span></span></span></code></pre></div><p>The  <code>url()</code> function converts a relative or absolute path (<code>[route/to/file]</code>) for the browser to retrieve with a HTTP request (relative paths are relative to the file containing the rule declaration).  By default, the image will have its origin in the upper left corner of the HTML element the rule is applied to, and will extend pixel-by-pixel until the edge of the containing element is reached (this means that to display the full image, you may need to set the <code>width</code> and <code>height</code> attributes for the element as well).  If the image is smaller than the containing element, it will be tiled.  Tiling can be conditionally turned off through the  <code>background-repeat property</code>, in the X, Y, or both axes.  You can also stretch, crop, and shift the image’s origin with other background properties.</p>
<p>In addition to these two strategies for including graphics in a web site, HTML provides a third option in the <code>&lt;canvas&gt;</code> element. We&rsquo;ll discuss that next.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="the-canvas-element">The Canvas Element</h1>

<p>The <code>&lt;canvas&gt;</code> element represents a raster graphic, much like the <code>&lt;img&gt;</code> element.  But instead of representing an existing image file, the <code>&lt;canvas&gt;</code> is a blank slate - a grid of pixels on which you can draw using JavaScript.  Becuase a canvas doesn&rsquo;t determine its size from an image file, you need to <em>always</em> declare it with a <code>width</code> and <code>height</code> attribute (otherwise, it has a width and height of 0):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;border 1px solid gray&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example-canvas-1&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">400</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">200</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onclick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;fillCanvas&#34;</span>&gt;Fill Canvas&lt;<span style="color:#f92672">button</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onclick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;clearCanvas&#34;</span>&gt;Clear Canvas&lt;/<span style="color:#f92672">button</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;</span></span></code></pre></div><div style="border 1px solid gray">
  <canvas id="example-canvas" width=400 height=200></canvas>
  <br>
  <button id="fill-canvas">Fill Canvas</button>
  <button id="clear-canvas">Clear Canvas</button>
</div>
<script>
  var canvas = document.getElementById('example-canvas');
  var ctx = canvas.getContext('2d');
  document.getElementById('fill-canvas').addEventListener('click', (event) => {
    ctx.fillStyle = '#f99';
    ctx.fillRect(0, 0, 200, 400);
  });
  document.getElementById('clear-canvas').addEventListener('click', (event) => {
    ctx.clearRect(0, 0, 200, 400);
  });
</script>
<p>You probably noticed that there appears to be nothing on the page above - but our canvas is there, it is just empty! Clicking the Fill button will fill it with a solid color, and the Clear button will erase it. So how does this work?</p>
<p>To draw into a canvas, we also need a <em>context</em>, a JavaScript object that allows us to draw onto the canvas. We&rsquo;ll specifically be using the <code>CanvasRenderingContext2D</code>. To get one, we:</p>
<ol>
<li>Get a reference to the <code>canvas</code> object</li>
<li>Call its <code>getContext()</code> method with an argument of <code>'2d'</code></li>
</ol>
<p>The JavaScript to do so looks like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;example-canvas-1&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ctx</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);</span></span></code></pre></div><p>Once we have the context, we can draw onto the canvas using one of its many commands</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fillCanvas</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">fillRect</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">400</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>The result can be seen in the canvas above. Next, let&rsquo;s discuss how the canvas element and context work together.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="the-pen-metaphor">The Pen Metaphor</h1>

<p>Most 2D graphics libraries adopt a &ldquo;pen&rdquo; metaphor to model how they interact with the graphics they draw.  Think of an imaginary pen that you use to draw on the screen.  When you put the pen down and move it across the screen you draw a line - the <em>stroke</em>.  When you lift the pen, you no longer make a mark. The movements of the pen across the canvas also define a <em>path</em>.</p>
<p>There are a number of methods that move this imaginary pen:</p>
<ul>
<li><code>moveTo(x, y)</code> picks up the imaginary pen and puts it back down at the position specified by <code>x</code> and <code>y</code>).</li>
<li><code>lineTo(x, y)</code> moves the imaginary pen across the canvas, drawing a line from its prior position to the position specified by <code>x</code> and <code>y</code>.</li>
<li><code>bezierCurveTo(c1x, c1y, c2x, c2y, x, y)</code> moves the imaginary pen across the canvas following a <a href="https://en.wikipedia.org/wiki/B%C3%A9zier_curve" target="_blank">Bezier curve</a>
 defined by the starting point, control points <code>(c1x, c1y)</code>, <code>(c2x, c2y)</code>, and ending point <code>(x, y)</code>.</li>
<li><code>arc(x, y, radius, startAngle, endAngle)</code> draws an arc (a segment of a circle) centered at <code>(x,y)</code> with radius <code>radius</code> and starting at <code>startAngle</code> and ending at <code>endAngle</code> (both measured in radians with the positive x-axis representing 0 radians). An optional final boolean parameter <code>counterclockwise</code>  draws the arc counterclockwise instead of clockwise when <code>true</code>.</li>
<li><code>arcTo(x, y, radius, startAngle, endAngle)</code> works as the <code>arc()</code> method, but it picks up the pen.</li>
</ul>
<p>It is important to understand that the path defined by these methods does get drawn into the canvas until one or both of the context&rsquo;s <code>stroke()</code> or <code>fill()</code> functions is called. These methods apply to the current path of the pen - we can also begin a new path with the <code>beginPath()</code> function, which clears all of the previous path.  We can also make the path return to its starting point with the <code>closePath()</code> function.</p>
<p>We&rsquo;ll discuss stroke and fill next, but for now, here is an example of a canvas using the ideas we just discussed:</p>
<p><canvas id="example" width="500" height="300"></canvas></p>
<script>
  var canvas = document.getElementById('example');
  var ctx = canvas.getContext('2d');
  
  ctx.beginPath();
  ctx.moveTo(100, 100);
  ctx.lineTo(100, 200);
  ctx.bezierCurveTo(100, 300, 300, 300, 300, 200);
  ctx.arc(300, 200, 100, 0, Math.PI, true);
  ctx.closePath();
  ctx.stroke();
</script>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;example&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ctx</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">beginPath</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">moveTo</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">lineTo</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">200</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">bezierCurveTo</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">200</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">arc</span>(<span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">0</span>, Math.<span style="color:#a6e22e">PI</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">stroke</span>();
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="stroke-and-fill">Stroke and Fill</h1>

<p>The stroke and fill work with the current path of the context, defining how the outline and interior of a shape defined by the path are drawn.</p>
<h2 id="stroke">Stroke</h2>
<p>The <code>stroke()</code> draws all of the path segments where the pen was &ldquo;down&rdquo;.  The appearance of the stroke can be altered with specific properties of the canvas:</p>
<ul>
<li><code>strokeStyle</code> allows you to set the color of the stroke, i.e. <code>ctx.strokeStyle = 'orange';</code>.  You can use one of the named colors, i.e. <code>'green'</code>, a hexidecimal value, i.e. <code>#fafafa</code>, one of the color functions <code>rgb(233,23,155)</code>, <code>rgba(23,23,23, 0.4)</code>, or a gradient or pattern (see more detail in the <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/strokeStyle" target="_blank">MDN web docs</a>
).</li>
<li><code>lineWidth</code> allows you to set the width of the drawn line, in coordinate units (pixels of the canvas), i.e. <code>ctx.lineWidth = 3.0;</code></li>
<li><code>lineCap</code> defines what the end of a line looks like, <code>&quot;Butt&quot;</code> for a squared-off end, <code>&quot;round&quot;</code> for a rounded end, or <code>&quot;square&quot;</code> for a box with width and height equal to the line&rsquo;s thickness, centered on the end.</li>
<li><code>lineDashOffset</code> adds an offset to the first dash in a dashed line.  See the discussion of dashed lines below.</li>
</ul>
<p>Lines can also be dashed. The nature of the dash is set wit the <code>setLineDash(segmentArray)</code> function of the context. The <code>segmentArray</code> is an array of distances which indicate the length of alternating lines and gaps forming the dash. For example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">setLineDash</span>([<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">4</span>]);</span></span></code></pre></div><p>Creates a dash pattern of 5 units of line followed by 4 units of space.  Then the pattern repeats, so another 5 units of line, and so on.</p>
<p>Let&rsquo;s redraw our previous shape with some changes to our stroke:</p>
<p><canvas id="example" width="500" height="300"></canvas></p>
<script>
  var canvas = document.getElementById('example');
  var ctx = canvas.getContext('2d');
  ctx.strokeStyle = 'green';
  ctx.beginPath();
  ctx.moveTo(100, 100);
  ctx.lineTo(100, 200);
  ctx.bezierCurveTo(100, 300, 300, 300, 300, 200);
  ctx.stroke();
  ctx.beginPath();
  ctx.strokeStyle = 'blue';
  ctx.setLineDash([5,2,1,2]);
  ctx.arc(300, 200, 100, 0, Math.PI, true);
  ctx.closePath();
  ctx.stroke();
</script>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;example&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ctx</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">strokeStyle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;green&#39;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">beginPath</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">moveTo</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">lineTo</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">200</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">bezierCurveTo</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">200</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">stroke</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// begin a new path so a different line style is applied
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">beginPath</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">strokeStyle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;blue&#39;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">setLineDash</span>([<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">arc</span>(<span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">0</span>, Math.<span style="color:#a6e22e">PI</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">closePath</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">stroke</span>();
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div>
  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>Note how we added a <code>beginPath()</code> to change the line style, and also how that altered the behavior of the <code>closePath()</code> function (instead of closing with the original point of the first path, it closes with the first point of the second path).  When drawing complex shapes, you&rsquo;ll need to pay careful attention to your subpaths.</p>
</div>
</div>
<h2 id="fill">Fill</h2>
<p>The <code>fill()</code> function fills in the shape outlined by the path (both the parts where the pen was &ldquo;down&rdquo; and also &ldquo;up&rdquo;). The appearance of the fill can <em>also</em> be altered with the <code>fillStyle</code> property of the canvas.</p>
<p>The <code>fillStyle</code> property allows you to change the color of the fill with one of several possible values: color i.e. <code>ctx.fillStyle='purple';</code>. It can use named colors (i.e. <code>'green'</code>), hexidecimal values (i.e. <code>#ffffdd</code>), one of the color functions (i.e. <code>rgb(0.4, 0.4. 0.9)</code>), a gradient, which can be linear, conic, or radial, or a pattern, such as repeating images.  You can find more about using each in the <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillStyle" target="_blank">MDN web docs</a>
.</p>
<p><canvas id="example-2" width="500" height="300"></canvas></p>
<script>
  var canvas2 = document.getElementById('example-2');
  var ctx2 = canvas2.getContext('2d');
  ctx2.fillStyle = 'purple';
  ctx2.moveTo(100, 100);
  ctx2.lineTo(100, 200);
  ctx2.bezierCurveTo(100, 300, 300, 300, 300, 200);
  ctx2.arc(300, 200, 100, 0, Math.PI, true);
  ctx2.closePath();
  ctx2.fill();
</script>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example-2&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas2</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;example-2&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ctx2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas2</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx2</span>.<span style="color:#a6e22e">fillStyle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;purple&#39;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx2</span>.<span style="color:#a6e22e">moveTo</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx2</span>.<span style="color:#a6e22e">lineTo</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">200</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx2</span>.<span style="color:#a6e22e">bezierCurveTo</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">200</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx2</span>.<span style="color:#a6e22e">arc</span>(<span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">0</span>, Math.<span style="color:#a6e22e">PI</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx2</span>.<span style="color:#a6e22e">closePath</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx2</span>.<span style="color:#a6e22e">fill</span>();
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="shape-functions">Shape Functions</h1>

<p>For ease of use, the context also supplies a number of functions for drawing shapes. Some of these just define the shape as a series of subpaths to be used with the <code>stroke()</code> and <code>fill()</code> functions.</p>
<h2 id="arcs-and-circles">Arcs and Circles</h2>
<p>Of these, we&rsquo;ve already seen the <code>arc(x, y, radius, startAngle, endAngle)</code> function. It can be used to draw an arc, or when filled, a wedge - like a pie slice. When a <code>startAngle</code> of 0 and <code>endAngle</code> of <code>2 * Math.PI</code> is used, it instead draws a complete circle.</p>
<p><canvas id="arc-example" width="500" height="200"></canvas></p>
<script>
  var canvas = document.getElementById('arc-example');
  var ctx = canvas.getContext('2d');
  
  ctx.strokeStyle = 'green';
  ctx.arc(100, 100, 50, 0, Math.PI * 2);
  ctx.stroke();
  
  ctx.beginPath();
  ctx.fillStyle = 'purple';
  ctx.arc(250, 100, 50, 0, Math.PI * 2);
  ctx.fill();

  ctx.beginPath();
  ctx.moveTo(400, 100);
  ctx.arc(400, 100, 50, Math.PI, Math.PI / 4);
  ctx.stroke();
  ctx.fill();
</script>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;arc-example&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;arc-example&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ctx</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">strokeStyle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;green&#39;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">arc</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">0</span>, Math.<span style="color:#a6e22e">PI</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">stroke</span>();
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">beginPath</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">fillStyle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;purple&#39;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">arc</span>(<span style="color:#ae81ff">250</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">0</span>, Math.<span style="color:#a6e22e">PI</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">fill</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">beginPath</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">moveTo</span>(<span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">arc</span>(<span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">50</span>, Math.<span style="color:#a6e22e">PI</span>, Math.<span style="color:#a6e22e">PI</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">stroke</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">fill</span>();
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div><h2 id="ellipse">Ellipse</h2>
<p>There is also an <code>ellipse(x, y, radiusX, radiusY, startAngle, endAngle)</code> function. It works in a similar way, creating an ellipse centered on the point (<code>x</code>, <code>y</code>) with a horizontal radius of <code>radiusX</code> and a vertical radius of <code>radiusY</code>, and starting and ending angles of <code>startAngle</code> and <code>endAngle</code> (specified in radians).  As with the <code>arc()</code> method, a <code>startAngle</code> of 0 and <code>endAngle</code> of <code>2 * Math.PI</code> creates a full ellipse.</p>
<h2 id="rectangle">Rectangle</h2>
<p>The <code>rect(x, y, width, height)</code> function draws a rectangle with upper left corner at <code>(x, y)</code> and dimensions <code>width</code> and <code>height</code>. In addition to the <code>rect()</code> function, there are some shorthand functions that <em>also</em> stroke or fill the rect <em>without altering the current path</em>.</p>
<p>The first of these is <code>fillRect(x, y, width, height)</code> which uses the same arguments as <code>rect()</code> and fills the resulting rectangle with the current fill style. We used this in the <a href="https://ksu-cs-textbooks.github.io/cc120/7-graphics/01-introduction/">introduction</a>
.</p>
<p>The second is the <code>clearRect(x, y, width, height)</code> function, which fills the rect defined by the arguments with <em>transparent black</em> (<code>rgba(0,0,0,0)</code>), effectively erasing everything in that rectangle on the canvas.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>Why the extra rectangle shorthands, and not other shapes? Remember, computer graphics have traditionally been <em>rectangular</em>, i.e. windows are rectangles. So programmers have gotten used to using rectangles in a lot of places, so having the extra shorthands made sense to the developers. Also, both <code>fillRect()</code> and <code>clearRect()</code> are used to quickly clear <code>&lt;canvas&gt;</code> elements of any prior drawing, especially when creating canvas animations.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="canvas-text">Canvas Text</h1>

<p>While the canvas is primarily used to draw graphics, there are times we want to use text as well.  We have two methods to draw text: <code>fillText(text, x, y)</code> and <code>strokeText(text, x, y)</code>. The <code>text</code> parameter is the text to render, and the <code>x</code> and <code>y</code> are the upper left corner of the text.</p>
<p>As with the <code>fillRect()</code> and <code>strokeRect()</code> functions, <code>fillText()</code> and <code>strokeText()</code> fill and stroke the text, respectively, and the text does not affect the current path. The text properties are set by properties on the context:</p>
<ul>
<li><code>font</code> is the font to use for the text. It uses the same syntax as the CSS font property. I.e. <code>ctx.font = 10pt Arial;</code></li>
<li><code>textAlign</code> sets the alignment of the text. Possible values are <code>start</code>, <code>end</code>, <code>left</code>, <code>right</code>, or <code>center</code>.</li>
<li><code>textBaseline</code> sets the baseline alignment for the text. Possible values are <code>top</code>, <code>hanging</code>, <code>middle</code>, <code>alphabetic</code>, <code>ideographic</code>, or <code>bottom</code>.</li>
<li><code>direction</code> the directionality of the text. Possible values are <code>ltr</code> (left-to-right), <code>rtl</code> (right-to-left), and <code>inherit</code> (inherit from the page settings).</li>
</ul>
<p><canvas id="example" width="500" height="300"></canvas></p>
<script>
  var canvas = document.getElementById('example');
  var ctx = canvas.getContext('2d');
  
  ctx.font = "40pt symbol";
  ctx.strokeText("Foo", 100, 100);
  ctx.fillText("Bar", 100, 200);
</script>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;example&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ctx</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">font</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;40pt symbol&#34;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">strokeText</span>(<span style="color:#e6db74">&#34;Foo&#34;</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">fillText</span>(<span style="color:#e6db74">&#34;Bar&#34;</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">200</span>);
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div>
  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>Sometimes you might want to know how large the text will be rendered in the canvas.  The <code>measureText(text)</code> function returns a <code>TextMetrics</code> object describing the size of a rectangle that the supplied <code>text</code> would fill, given the current canvas text properties.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="canvas-and-images">Canvas and Images</h1>

<p>The <code>&lt;canvas&gt;</code> and <code>&lt;img&gt;</code> elements are both raster representations of graphics, which introduces an interesting possibility - copying the data of an image into the canvas.  This can be done with the <code>drawImage()</code> family of functions.</p>
<p>The first of these is <code>drawImage(image, x, y)</code>. This copies the entire image held in the <code>image</code> variable onto the canvas, starting at (<code>x</code>, <code>y</code>).</p>
<p><canvas id="image-example-1" width="500" height="300"></canvas></p>
<script>
  var canvas1 = document.getElementById('image-example-1');
  var ctx1 = canvas1.getContext('2d');
  var image1 = new Image();
  image1.onload = function() {
    ctx1.drawImage(image1, 0, 0);
  }
  image1.src = "/cc120/images/rubber_duck_debugging.jpg";  
</script>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;image-example-1&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas1</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;image-example-1&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ctx1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas1</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">image1</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Image</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">image1</span>.<span style="color:#a6e22e">onload</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ctx1</span>.<span style="color:#a6e22e">drawImage</span>(<span style="color:#a6e22e">image1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">image1</span>.<span style="color:#a6e22e">src</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/cc120/images/rubber_duck_debugging.jpg&#34;</span>;  
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div><p>The second, <code>drawImage(image, x, y, width, height)</code> scales the image as it draws it.  Again the image is drawn starting at (<code>x</code>,<code>y</code>) but is scaled to be <code>width</code> x <code>height</code>.</p>
<p><canvas id="image-example-2" width="500" height="300"></canvas></p>
<script>
  var canvas2 = document.getElementById('image-example-2');
  var ctx2 = canvas2.getContext('2d');
  var image2 = new Image();
  image2.onload = function() {
    ctx2.drawImage(image2, 0, 0, 300, 300);
  }
  image2.src = "/cc120/images/rubber_duck_debugging.jpg";  
</script>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;image-example-2&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas2</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;image-example-2&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ctx2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas2</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">image2</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Image</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">image2</span>.<span style="color:#a6e22e">onload</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ctx2</span>.<span style="color:#a6e22e">drawImage</span>(<span style="color:#a6e22e">image2</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">300</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">image2</span>.<span style="color:#a6e22e">src</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/cc120/images/rubber_duck_debugging.jpg&#34;</span>;  
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div><p>The third, <code>drawImage(image, sx, sy, sWidth, sHeight, x, y, width, height)</code> draws a sub-rectangle of the source image. The source sub-rectangle starts at point (<code>sx</code>, <code>sy</code>) and has dimensions <code>sWidth</code> x <code>sHeight</code>. It draws the contents of the source rectangle into a rectangle in the canvas starting at (<code>dx</code>,<code>dy</code>) and scaled to dimensions <code>dWidth</code> x <code>dHeight</code>.</p>
<p><canvas id="image-example-3" width="500" height="300"></canvas></p>
<script>
  var canvas3 = document.getElementById('image-example-3');
  var ctx3 = canvas3.getContext('2d');
  var image3 = new Image();
  image3.onload = function() {
    ctx3.drawImage(image3, 200, 200, 300, 300, 0, 0, 300, 300);
  }
  image3.src = "/cc120/images/rubber_duck_debugging.jpg";  
</script>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;image-example-3&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas3</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;image-example-3&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ctx3</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas3</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">image3</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Image</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">image3</span>.<span style="color:#a6e22e">onload</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ctx3</span>.<span style="color:#a6e22e">drawImage</span>(<span style="color:#a6e22e">image3</span>, <span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">300</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">image3</span>.<span style="color:#a6e22e">src</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/cc120/images/rubber_duck_debugging.jpg&#34;</span>;  
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div>
  
  
<div class="box notices cstyle warning">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div>
  <div class="box-content">

<p>If the image is not loaded when the <code>drawImage()</code> call is made, nothing will be drawn to the canvas.  This is why in the examples, we move the <code>drawImage()</code> call into the <code>onload</code> callback of the image - this function will only be invoked when the image finishes loading.</p>
</div>
</div>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
  <div class="box-content">

<p>Because a <code>&lt;canvas&gt;</code> element is itself a grid of pixels just like an <code>&lt;img&gt;</code> element, you can <em>also</em> use a <code>&lt;canvas&gt;</code> in a <code>drawImage()</code> call! This can be used to implement <em>double-buffering</em>, a technique where you draw the entire scene into a <code>&lt;canvas&gt;</code> element that is not shown in the webpage (known as the back buffer), and then copying the completed scene into the on-screen <code>&lt;canvas&gt;</code> (the front buffer).</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="transforms-and-state">Transforms and State</h1>

<p>Much like we can use CSS to apply transformations to HTML elements, we can use transforms to change how we draw into a canvas. The rendering context has a transformation matrix much like those we discussed in the CSS chapter, and it applies this transform to any point it is tasked with drawing.</p>
<p>We can replace the current transformation matrix with the <code>setTransform()</code> function, or multiply it by a new transformation (effectively combining the current transformation with the new one) by calling <code>transform()</code>.</p>
<p>With this in mind, it can be useful to know two other functions of the context, <code>save()</code> and <code>restore()</code>.  These save the current context state by pushing and popping from a stack.  Think of it as a pile of papers. When we call <code>save()</code> we write down the current state of the context object, and drop that paper in the stack.  When we call <code>restore()</code>, we take the topmost paper from the stack, and set context&rsquo;s state back to what was written on that sheet.</p>
<p>So what exactly constitutes the state of our rendering context? As you might imagine, this includes the transformation matrix we just talked about.  But it <em>also</em> includes all of the stroke and fill properties.</p>
<p>Now, back to the transforms.  As with CSS transforms, we can define the matrix ourselves, but there also exist a number of helper functions we can leverage, specifically:</p>
<ul>
<li><code>translate(tx, ty)</code> translates by <code>tx</code> in the x axis, and <code>ty</code> along the y</li>
<li><code>rotate(angle)</code> rotates around the z-axis by the supplied <code>angle</code> (specified in radians)</li>
<li><code>scale(sx,sy)</code> scales by <code>sx</code> along the x axis, and <code>sy</code> along the y axis. This is expressed as a decimal value: <code>1.0</code> indicates 100%, <code>0.5</code> for 50%, and <code>1.75</code> for 175%</li>
</ul>
<p><canvas id="example" width="500" height="300"></canvas></p>
<script>
  var canvas = document.getElementById('example');
  var ctx = canvas.getContext('2d');
  
  ctx.font = "40pt Tahoma";
  var metrics = ctx.measureText("Hello Canvas");
  var tx = 100 + metrics.width / 2;
  var ty = 180;
  
  ctx.translate(tx, ty);
  ctx.rotate(Math.PI/4);
  ctx.translate(-tx, -ty);

  ctx.strokeText("Hello Canvas", 100, 180);
</script>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;example&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ctx</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">font</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;40pt Tahoma&#34;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">metrics</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">measureText</span>(<span style="color:#e6db74">&#34;Hello Canvas&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">tx</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">metrics</span>.<span style="color:#a6e22e">width</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ty</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">180</span>;
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">translate</span>(<span style="color:#a6e22e">tx</span>, <span style="color:#a6e22e">ty</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">rotate</span>(Math.<span style="color:#a6e22e">PI</span><span style="color:#f92672">/</span><span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">translate</span>(<span style="color:#f92672">-</span><span style="color:#a6e22e">tx</span>, <span style="color:#f92672">-</span><span style="color:#a6e22e">ty</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">strokeText</span>(<span style="color:#e6db74">&#34;Hello Canvas&#34;</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">180</span>);
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div>
  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>In this example, we translate the text so that its center is at the origin <em>before</em> we rotate it, then translate it back. As any rotation we specify is around the origin, this makes it so the text is rotated around its center and stays on canvas, rather than rotating off the canvas.</p>
<p>Also notice that we call the transformation functions in the <em>opposite</em> order we want them applied.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="animation">Animation</h1>

<p>The canvas element provides a powerful tool for creating animations by allowing us to erase and re-draw its contents over and over. Ideally, we only want to redraw the canvas contents only as quickly as the screen is updated (typically every 1/30th or 1/60th of a second).  The <code>window.requestAnimationFrame(callback)</code> provides an approach for doing this - it triggers the supplied callback every time the monitor refreshes.</p>
<p>Inside that callback, we want to erase the canvas and then draw the updated scene. Here is an example animating a ball bouncing around the canvas:</p>
<p><canvas id="example" width="500" height="300"></canvas></p>
<script>
  var canvas = document.getElementById('example');
  var ctx = canvas.getContext('2d');
  var x = 100;
  var y = 100;
  var dx = Math.random();
  var dy = Math.random();
  
  function animate(timestamp)
  {
    ctx.fillStyle = 'pink';
    ctx.fillRect(0,0,500,300);
    ctx.fillStyle = 'blue';
    ctx.beginPath();
    ctx.arc(x, y, 25, 0, 2*Math.PI);
    ctx.fill();
    ctx.stroke();
    x += dx;
    y += dy;
    if(x < 25 || x > 475) dx = -dx;
    if(y < 25 || y > 275) dy = -dy;
    window.requestAnimationFrame(animate);
  }

  animate();

</script>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">canvas</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span>&gt;&lt;/<span style="color:#f92672">canvas</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">canvas</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;example&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ctx</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">canvas</span>.<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">dx</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">random</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">dy</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">random</span>();
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">animate</span>(<span style="color:#a6e22e">timestamp</span>)
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">fillStyle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;pink&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">fillRect</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">500</span>,<span style="color:#ae81ff">300</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">fillStyle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;blue&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">beginPath</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">arc</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>, <span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>Math.<span style="color:#a6e22e">PI</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">fill</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ctx</span>.<span style="color:#a6e22e">stroke</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">x</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">dx</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">y</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">dy</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">x</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">25</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">475</span>) <span style="color:#a6e22e">dx</span> <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">dx</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">y</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">25</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">275</span>) <span style="color:#a6e22e">dy</span> <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">dy</span>;
</span></span><span style="display:flex;"><span>    window.<span style="color:#a6e22e">requestAnimationFrame</span>(<span style="color:#a6e22e">animate</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">animate</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div>
  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>On monitors with different refresh rates, the ball will move at a different speed. The callback function supplied to <code>requestAnimationFrame()</code> will receive a high-resolution timestamp (the current system time). You can save the previous timestamp and subtract it from the current time to determine how much time elapsed between frames, and use this to calculate your animations. An example doing this can be found in the <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame" target="_blank">MDN web docs</a>
.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="vector-graphics">Vector Graphics</h1>

<p>Up to this point, we&rsquo;ve been discussing raster graphics, which are represented by a grid of pixels.  In contrast, <em>vector</em> graphics are stored as <em>a series of instructions</em> to re-create the graphic. For most vector approaches, these instructions look similar to those we issued to our JavaScript rendering context when working with the <code>&lt;canvas&gt;</code> element - including the idea of paths, stroke, and fill.</p>
<p>The vector approach has its own benefits and drawbacks when compared to raster graphics.</p>
<ul>
<li><strong>More Computation</strong> Before a vector graphic can be displayed, it has to be rendered into a raster form, much like we had to instruct our context to render into a <code>&lt;canvas&gt;</code>. This requires some computation, whereas rendering a raster graphic simply requires copying its bits from one buffer to another (assuming we aren&rsquo;t scaling it).</li>
<li><strong>Better Scaling</strong> Perhaps the biggest benefit is that the problems we see when scaling a raster graphic don&rsquo;t happen with vector graphics.  If we want to make the graphic ten times larger, then when we convert it into a raster, we can scale up the drawing instructions to ten times the normal size.</li>
<li><strong>Less Photorealistic</strong> Vector graphics are best suited for images with well-defined shapes with little shading - things like clipart and cartoon characters. To approach photorealism requires a lot of small shapes drawn in different colors, and will require both more memory and computation.  In contrast, a raster graphic is excellent at photorealism. Digital cameras actually create a raster graphic from a grid of color sensors behind the lens.</li>
</ul>
<p>
<a href="#image-b7ada3507965a840f02964e04c9de958" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc120/images/7.12.1.png" alt="Vector and Raster graphic comparison" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-b7ada3507965a840f02964e04c9de958">
<img src="https://ksu-cs-textbooks.github.io/cc120/images/7.12.1.png" alt="Vector and Raster graphic comparison" class="lightbox-image" loading="lazy">
</a></p>
<p>Because of the scaling benefits, vector graphics are used for commonly used for fonts, icons, and logos, and other images that may be presented at vastly different scales.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="svg">SVG</h1>

<p>The Scalable Vector Graphics (SVG) image format is a file format for creating a vector graphic. It uses the same ideas about path, stroke, and fill and coordinate that we discussed with the canvas.  It <em>also</em> is a text format based on XML, as was HTML.  So the contents of a XML file will look familiar to you. Here is an example:</p>
<svg viewBox="0 0 500 200" xmlns="http://www.w3.org/2000/svg">
  <path d="M 100 50 L 100 150 L 300 150 Z" stroke="black" fill="#dd3333"/>
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-svg" data-lang="svg"><span style="display:flex;"><span><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 500 200&#34;</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;path</span> <span style="color:#a6e22e">d=</span><span style="color:#e6db74">&#34;M 100 50 L 100 150 L 300 150 Z&#34;</span> <span style="color:#a6e22e">stroke=</span><span style="color:#e6db74">&#34;black&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;#dd3333&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/svg&gt;</span></span></span></code></pre></div><p>Let&rsquo;s take a close look at the file format. First, like HTML and other XML derivatives, we use tags to specify elements.  The <code>&lt;svg&gt;</code> tag indicates the top level of our SVG image, much like the <code>&lt;html&gt;</code> tag does for HTML. The <code>xmlns</code> links to the specification of the XML format, and should be included in all <code>&lt;svg&gt;</code> elements (it&rsquo;s one of the requirements of the XML format - earlier versions of HTML did this as well for the HTML namespace, but HTML5 broke away from the requirement).</p>
<p>Likewise the <code>&lt;path&gt;</code> element defines a path, much like those we drew with the <code>&lt;canvas&gt;</code> and its rendering context. The <code>d</code> attribute in the <code>&lt;path&gt;</code> is its <em>data</em>, and it provides it a series of commands and values, separated by spaces. These instruct the program rendering the SVG in how to move the imaginary pen around.  The <code>stroke</code> and <code>fill</code> attributes specify how the resulting path should be stroked and filled.</p>
<p>Finally, the <code>viewBox</code> attribute in the <code>&lt;svg&gt;</code> tag describes what part of the image should be rendered. This is specified as a rectangle, following the familiar format of <code>x y width height</code>, where the point (<code>x</code>,<code>y</code>) is the upper left corner, and <code>width</code> and <code>height</code> specify a distance to the left and down, respectively.</p>
<p>The <code>viewBox</code> plays an important role in how SVG graphics scale.  If we used this SVG in an <code>&lt;img&gt;</code> tag and set it to have a different width, it would automatically scale the view box contents to match:</p>
<svg viewBox="0 0 500 200" xmlns="http://www.w3.org/2000/svg" width="200">
  <path d="M 100 50 L 100 150 L 300 150 Z" stroke="black" fill="#dd3333"/>
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/images/triangle.svg&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span>&gt;</span></span></code></pre></div><p>Now that you understand the basics, let&rsquo;s turn our attention to some specific SVG elements.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>There is an important idea in the above discussion - the SVG file format specifies <em>how</em> the image should be drawn. But it is up to the program reading the SVG to actually <em>carry out the drawing commands</em>. As this is much more involved than simply copying raster bits, not all image viewing software support SVG files. However, all modern browsers do.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="svg-paths">SVG Paths</h1>

<p>SVGs use the same pen metaphor we saw with the <code>&lt;canvas&gt;</code> and one of the most basic approaches to drawing in an SVG is the <code>&lt;path&gt;</code> element. Each <code>&lt;path&gt;</code> should contain a <code>d</code> attribute, which holds the commands used to <em>draw</em> the path. These are very similar to the commands we used with the <code>&lt;canvas&gt;</code> and the <code>CanvasRenderingContext2D</code> we used earlier, but instead of being written as a function call, they are written as a capital letter (indicating what command to carry out) followed by numbers specifying the action.  Let&rsquo;s take another look at our earlier example:</p>
<svg viewBox="0 0 500 200" xmlns="http://www.w3.org/2000/svg">
  <path d="M 100 50 L 100 150 L 300 150 Z" stroke="black" fill="#dd3333"/>
</svg>
<p>The path&rsquo;s data is <code>M 100 50 L 100 150 L 300 150 Z</code>.  Let&rsquo;s break it down one command at a time:</p>
<ol>
<li><code>M 100 50</code> indicates we should move our pen to point (100, 50).</li>
<li><code>L 100 150</code> indicates we should draw a line from our current position to point (100, 150).</li>
<li><code>L 300 150</code> indicates we should draw a line from our current position to point (300, 150).</li>
<li><code>Z</code> indicates we should close our path, drawing a line to where we started (the point specified in our first command).</li>
</ol>
<p>Now that we&rsquo;ve worked through a path example, let&rsquo;s discuss the specific commands available to us:</p>
<h2 id="move-to">Move To</h2>
<p>The <code>M x y</code> command indicates we should <em>move to</em> the point (<code>x</code>, <code>y</code>), picking up our pen. It corresponds to <code>ctx.moveTo(x, y)</code>.</p>
<h2 id="line-to">Line To</h2>
<p>The <code>L x y</code> command indicates we should draw a <em>line</em> from our current position to the point (<code>x</code>, <code>y</code>). It corresponds to <code>ctx.lineTo(x, y)</code>.</p>
<h2 id="horizontal-line-to">Horizontal Line To</h2>
<p>The <code>H x</code> command is shorthand for drawing a horizontal line (the y stays the same) from the current x to the provided <code>x</code>.</p>
<h2 id="vertical-line-to">Vertical Line To</h2>
<p>The <code>V y</code> command is shorthand for drawing a vertical line (the x stays the same) from the current y to the provided <code>y</code>.</p>
<h2 id="curve-to">Curve To</h2>
<p>The <code>C cx1 cy1, cx2 cy2, dx, dy</code> is the shorthand for drawing a Bézier Curve from the current position to (<code>dx</code>, <code>dy</code>) using control points (<code>cx1</code>, <code>cy1</code>) and (<code>cx2</code>, <code>cy2</code>). It corresponds to <code>ctx.curveTo(c1x, c1y, c2x, c2y, dx, dy)</code>. The MDN web docs has an excellent discussion with visual examples of <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths#b%C3%A9zier_curves" target="_blank">Bézier curves</a>
. A visual example of the role of the effect control points have on a Bézier curve from that article appears below:</p>
<p>
<a href="#image-0fa12ac8197ac200ac8b3f9581ab7edf" class="lightbox-link">
<img src="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths/cubic_b%C3%A9zier_curves_with_grid.png" alt="Bézier curve examples" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-0fa12ac8197ac200ac8b3f9581ab7edf">
<img src="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths/cubic_b%C3%A9zier_curves_with_grid.png" alt="Bézier curve examples" class="lightbox-image" loading="lazy">
</a></p>
<h2 id="arc-to">Arc To</h2>
<p>The <code>A rx ry x-axis-rotation large-arc-flag sweep-flag x y a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy</code> draws an arc. It is roughly analogous to the <code>ctx.drawArc()</code> method, but uses a different way of specifying the arc&rsquo;s start, end, and direction. You can read a more detailed discussion on the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths#arcs" target="_blank">MDN Web Docs</a>
</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>The examples on this page have been adapted from the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG" target="_blank">MDN web docs</a>
. You are encouraged to visit these documents for a much more detailed discussion of the concepts and techniques presented here.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="svg-shapes">SVG Shapes</h1>

<p>Much like the <code>CanvasRenderingContext2d</code> we used with the <code>&lt;canvas&gt;</code> earlier allowed us to render rectangles outside of the path, the SVG format <em>also</em> provides mechanisms for rendering common shapes. These are specified using their own tags (like HTML elements), and there are a wide variety of shapes available:</p>
<h2 id="rectangle">Rectangle</h2>
<p>The <code>&lt;rect&gt;</code> element defines a rectangle, specified by the now-familiar <code>x</code>, <code>y,</code>, <code>width</code> and <code>height</code> attributes, and with optional rounded corners with radius specified by the <code>rx</code> attribute.</p>
<svg viewBox="0 0 220 100" xmlns="http://www.w3.org/2000/svg" height="200">
  <!-- Simple rectangle -->
  <rect width="100" height="100" fill="cornflowerblue"/>
  <!-- Rounded corner rectangle -->
  <rect x="120" width="100" height="100" rx="15" fill="goldenrod"/>
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-svg" data-lang="svg"><span style="display:flex;"><span><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 220 100&#34;</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;200&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">&lt;!-- Simple rectangle --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;rect</span> <span style="color:#a6e22e">width=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;cornflowerblue&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">&lt;!-- Rounded corner rectangle --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;rect</span> <span style="color:#a6e22e">x=</span><span style="color:#e6db74">&#34;120&#34;</span> <span style="color:#a6e22e">width=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">rx=</span><span style="color:#e6db74">&#34;15&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;goldenrod&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/svg&gt;</span></span></span></code></pre></div><h2 id="circle">Circle</h2>
<p>The <code>&lt;circle&gt;</code> elements defines a circle with radius and center defined by the <code>r</code>, <code>cx</code>, and <code>cy</code> attributes:</p>
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" height="200">
  <circle cx="50" cy="50" r="50" fill="cornflowerblue"/>
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-svg" data-lang="svg"><span style="display:flex;"><span><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 100 100&#34;</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;circle</span> <span style="color:#a6e22e">cx=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">cy=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">r=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;cornflowerblue&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/svg&gt;</span></span></span></code></pre></div><h2 id="ellipse">Ellipse</h2>
<p>The <code>&lt;ellipse&gt;</code> element represents an ellipse, with center (<code>cx</code>, <code>cy</code>) horizontal radius (<code>rx</code>) and vertical radius (<code>ry</code>) specified by the corresponding attributes:</p>
<svg viewBox="0 0 200 100" xmlns="http://www.w3.org/2000/svg" height="200">
  <ellipse cx="100" cy="50" rx="100" ry="50" fill="goldenrod"/>
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-svg" data-lang="svg"><span style="display:flex;"><span><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 200 100&#34;</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;200&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;ellipse</span> <span style="color:#a6e22e">cx=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">cy=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">rx=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">ry=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;goldenrod&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/svg&gt;</span></span></span></code></pre></div><h2 id="polygon">Polygon</h2>
<p>The <code>&lt;polygon&gt;</code> specifies an arbitrary polygon using a series of points defined by the <code>points</code> attribute:</p>
<svg viewBox="0 0 200 100" xmlns="http://www.w3.org/2000/svg" height="200">
  <!-- Example of a polygon with the default fill -->
  <polygon points="0,100 50,25 50,75 100,0" fill="magenta"/>
  <!-- Example of the same polygon shape with stroke and no fill -->
  <polygon points="100,100 150,25 150,75 200,0" fill="none" stroke="black" />
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 200 100&#34;</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;200&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">&lt;!-- Example of a polygon with the default fill --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;polygon</span> <span style="color:#a6e22e">points=</span><span style="color:#e6db74">&#34;0,100 50,25 50,75 100,0&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;magenta&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">&lt;!-- Example of the same polygon shape with stroke and no fill --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;polygon</span> <span style="color:#a6e22e">points=</span><span style="color:#e6db74">&#34;100,100 150,25 150,75 200,0&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;none&#34;</span> <span style="color:#a6e22e">stroke=</span><span style="color:#e6db74">&#34;black&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/svg&gt;</span></span></span></code></pre></div>
  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>The examples on this page have been adapted from the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG" target="_blank">MDN web docs</a>
. You are encouraged to visit these documents for a much more detailed discussion of the concepts and techniques presented here.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="svg-animation">SVG Animation</h1>

<p>SVG has several build-in approaches to add animation to a drawing, the <code>&lt;animate&gt;</code> and <code>&lt;animateMotion&gt;</code> elements.</p>
<h2 id="the-ltanimategt-element">The &lt;animate&gt; Element</h2>
<p>The <code>&lt;animate&gt;</code> element is used to animate the attributes of an element over time.  It must be declared as a <em>child</em> of the element it will animate, i.e.:</p>
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" height="200">
  <circle cx="50" cy="50" r="50" fill="cornflowerblue">
    <animate attributeName="r" values="10;50;20;50;10" dur="10s" repeatCount="indefinite"/>
  </circle>
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-svg" data-lang="svg"><span style="display:flex;"><span><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 100 100&#34;</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;200&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;circle</span> <span style="color:#a6e22e">cx=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">cy=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">r=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;cornflowerblue&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;animate</span> <span style="color:#a6e22e">attributeName=</span><span style="color:#e6db74">&#34;r&#34;</span> <span style="color:#a6e22e">values=</span><span style="color:#e6db74">&#34;10;50;20;50;10&#34;</span> <span style="color:#a6e22e">dur=</span><span style="color:#e6db74">&#34;10s&#34;</span> <span style="color:#a6e22e">repeatCount=</span><span style="color:#e6db74">&#34;indefinite&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/circle&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/svg&gt;</span></span></span></code></pre></div><p>Here we have a 10 second duration repeating animation that alters the radius of a circle between a number of different values. We can combine multiple <code>&lt;animate&gt;</code> elements in one parent:</p>
<svg viewBox="0 0 200 100" xmlns="http://www.w3.org/2000/svg" height="200">
  <rect x="25" y="25" width="50" height="50" fill="goldenrod">
    <animate attributeName="rx" values="0;50;0" dur="3s" repeatCount="indefinite"/>
    <animate attributeName="x" values="0;150;0" dur="5s" repeatCount="indefinite"/>
  </circle>
</svg>
<h2 id="the-ltanimatemotiongt-element">The &lt;animateMotion&gt; Element</h2>
<p>The <code>&lt;animateMotion&gt;</code> element moves an element along a path (using the same rules to define a path as the <code>&lt;path&gt;</code> element):</p>
<svg viewBox="0 0 200 100" xmlns="http://www.w3.org/2000/svg" height="200">
  <path
    fill="none"
    stroke="lightgrey"
    d="M20,50 C20,-50 180,150 180,50 C180-50 20,150 20,50 z" />
  <circle r="5" fill="red">
    <animateMotion
      dur="10s"
      repeatCount="indefinite"
      path="M20,50 C20,-50 180,150 180,50 C180-50 20,150 20,50 z" />
  </circle>
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-svg" data-lang="svg"><span style="display:flex;"><span><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 200 100&#34;</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;200&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;path</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;none&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">stroke=</span><span style="color:#e6db74">&#34;lightgrey&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">d=</span><span style="color:#e6db74">&#34;M20,50 C20,-50 180,150 180,50 C180-50 20,150 20,50 z&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;circle</span> <span style="color:#a6e22e">r=</span><span style="color:#e6db74">&#34;5&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;red&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;animateMotion</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">dur=</span><span style="color:#e6db74">&#34;10s&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">repeatCount=</span><span style="color:#e6db74">&#34;indefinite&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">path=</span><span style="color:#e6db74">&#34;M20,50 C20,-50 180,150 180,50 C180-50 20,150 20,50 z&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/circle&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/svg&gt;</span></span></span></code></pre></div>
  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>The examples on this page have been adapted from the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG" target="_blank">MDN web docs</a>
. You are encouraged to visit these documents for a much more detailed discussion of the concepts and techniques presented here.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="svg-transforms">SVG Transforms</h1>

<p>As with CSS and the canvas, SVGs <em>also</em> support transformations. In an SVG, these are specified by the <code>transform</code> attribute and thus apply to a specific element. For example, to rotate our ellipse from the previous section by 15 degrees around its center, we would use:</p>
<svg viewBox="0 0 200 100" xmlns="http://www.w3.org/2000/svg" height="200">
  <ellipse cx="100" cy="50" rx="100" ry="50" fill="cornflowerblue" transform="rotate(15 100 50)"/>
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-svg" data-lang="svg"><span style="display:flex;"><span><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 200 100&#34;</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;200&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;ellipse</span> <span style="color:#a6e22e">cx=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">cy=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">rx=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">ry=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;cornflowerblue&#34;</span> <span style="color:#a6e22e">transform=</span><span style="color:#e6db74">&#34;rotate(15 100 50)&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/svg&gt;</span></span></span></code></pre></div><p>Notice how the ellipse is clipped at the view box - this is another important role the view box plays.</p>
<p>Multiple transformations can be concatenated into the <code>transform</code> attribute, separated by spaces:</p>
<svg viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg" height="200">
  <ellipse cx="100" cy="50" rx="100" ry="50" fill="goldenrod" transform="rotate(15 100 50) translate(100)"/>
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-svg" data-lang="svg"><span style="display:flex;"><span><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 300 100&#34;</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;200&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;ellipse</span> <span style="color:#a6e22e">cx=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">cy=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">rx=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">ry=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;goldenrod&#34;</span> <span style="color:#a6e22e">transform=</span><span style="color:#e6db74">&#34;rotate(15 100 50) translate(100)&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/svg&gt;</span></span></span></code></pre></div><p>Note that the transformation functions are applied in the <em>opposite</em> order they are specified.  In this case, translating the ellipse forward moves it along a rotated axis - 15 degrees downward!</p>
<h2 id="transformation-functions">Transformation Functions</h2>
<p>As with the other transformation approaches we&rsquo;ve seen, SVG transforms are based on matrix math. And, as in those prior approaches, a variety of helpful functions are provided to create the most common kinds of transformation matrices.  The specific transformation functions available in the SVG standard are:</p>
<p><strong>Translate</strong> The <code>translate(tx [ty])</code> translates along the x-axis by <code>tx</code> and the y axis by <code>ty</code>.  If no value for <code>ty</code> is supplied, the value of 0 is assumed.</p>
<p><strong>Scale</strong> The <code>scale(sx [sy])</code> scales the image by <code>sx</code> along the x axis, and by <code>sy</code> along the y axis. If a value for <code>sy</code> is not supplied, then it uses the same value as <code>sx</code> (i.e. the element is scaled along both axes equally).</p>
<p><strong>Rotate</strong> The <code>rotate(angle [x y])</code> rotates the element around the point (<code>x</code>, <code>y</code>) by <code>angle</code> degrees.  If <code>x</code> and <code>y</code> are omitted, the origin (0,0) is the center of rotation.</p>
<p><strong>Skew</strong> The <code>skewX(angle)</code> skews along the x axis by <code>angle</code> degrees. Likewise, the <code>skewY(angle)</code> skews along the y axis by <code>angle</code> degrees.</p>
<h2 id="grouping-elements">Grouping Elements</h2>
<p>The <code>&lt;g&gt;</code> element can be used to group elements together, and apply transformations to the whole group:</p>
<svg viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg" height="200">
  <g transform="translate(10 -20) rotate(45) skewX(20) scale(0.5)">
    <ellipse cx="100" cy="50" rx="100" ry="50" fill="cornflowerblue" />
    <rect x="60" y="10" width="80" height="80" fill="goldenrod"/>
  </g>
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-svg" data-lang="svg"><span style="display:flex;"><span><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 300 100&#34;</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;200&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;g</span> <span style="color:#a6e22e">transform=</span><span style="color:#e6db74">&#34;translate(10 -20) rotate(45) skewX(20) scale(0.5)&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;ellipse</span> <span style="color:#a6e22e">cx=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">cy=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">rx=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">ry=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;cornflowerblue&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;rect</span> <span style="color:#a6e22e">x=</span><span style="color:#e6db74">&#34;60&#34;</span> <span style="color:#a6e22e">y=</span><span style="color:#e6db74">&#34;10&#34;</span> <span style="color:#a6e22e">width=</span><span style="color:#e6db74">&#34;80&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;80&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;goldenrod&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/g&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/svg&gt;</span></span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="svg-and-css">SVG and CSS</h1>

<p>When using inline SVG, you can apply CSS to the SVG using any of the methods we&rsquo;ve used with HTML - inline styles, the <code>&lt;style&gt;</code> element, or a CSS file. The rules work exactly the same - you select a SVG element using a CSS selector, and apply style rules.  SVG elements have tag name, and can also specify <code>id</code> and <code>class</code> attributes just like HTML. For example:</p>
<style>
  rect {
    fill: purple;
    stroke: black;
    stroke-width: 5;
  }
  #my-circle {
    fill: violet;
    stroke: #333;
  }
</style>
<svg viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg">
  <rect x="10" y="10" width="80" height="80"/>
  <circle id="my-circle" cx="200" cy="50" r="40"/>
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">style</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">rect</span> {
</span></span><span style="display:flex;"><span>    fill: <span style="color:#66d9ef">purple</span>;
</span></span><span style="display:flex;"><span>    stroke: <span style="color:#66d9ef">black</span>;
</span></span><span style="display:flex;"><span>    stroke-width: <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  #my-circle {
</span></span><span style="display:flex;"><span>    fill: <span style="color:#66d9ef">violet</span>;
</span></span><span style="display:flex;"><span>    stroke: <span style="color:#ae81ff">#333</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">style</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">viewBox</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0 0 300 100&#34;</span> <span style="color:#a6e22e">xmlns</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">rect</span> <span style="color:#a6e22e">x</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10&#34;</span> <span style="color:#a6e22e">y</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;80&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;80&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">circle</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;my-circle&#34;</span> <span style="color:#a6e22e">cx</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span> <span style="color:#a6e22e">cy</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;40&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">svg</span>&gt;</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="svg-and-html">SVG and HTML</h1>

<p>As described earlier, SVG is an image file format. Thus, it can be used as the <code>src</code> for an <code>&lt;img&gt;</code> element in HTML:</p>
<img src="https://ksu-cs-textbooks.github.io/cc120/images/triangle.svg" alt="A triangle">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/images/triangle.svg&#34;</span> <span style="color:#a6e22e">alt</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;A triangle&#34;</span>&gt;</span></span></code></pre></div><p>However, the SVG itself is just text. And that text shares a lot of characteristics with HTML, as both are derived from XML. As SVG became more commonplace, the W3C added support for <em>inline SVGs</em> - placing SVG code directly in a HTML document:</p>
<svg viewBox="0 0 500 200" xmlns="http://www.w3.org/2000/svg">
  <path d="M 100 50 L 100 150 L 300 150 Z" stroke="black" fill="#dd3333"/>
</svg>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">viewBox</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0 0 500 200&#34;</span> <span style="color:#a6e22e">xmlns</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">path</span> <span style="color:#a6e22e">d</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;M 100 50 L 100 150 L 300 150 Z&#34;</span> <span style="color:#a6e22e">stroke</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;black&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#dd3333&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">svg</span>&gt;</span></span></code></pre></div><p>In fact, that is how we handle most of the SVGs we are presenting to you in this chapter. There are some additional benefits to this approach:</p>
<ol>
<li>The SVG is contained in the html document, so there is no need to download additional files as with an <code>&lt;img&gt;</code> element.</li>
<li>The SVG definition <em>also</em> contains a <code>&lt;a&gt;</code> element, which is identical to its HTML counterpart. When you use the SVG inline, it works just like a regular link in the page.</li>
<li>The inline SVG can also be modified by CSS and JS - we&rsquo;ll take a look at each next.</li>
</ol>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="svg-and-javascript">SVG and JavaScript</h1>

<p>Likewise, inline SVG elements are part of the DOM tree, and can be manipulated with JavaScript in <em>almost</em> the same way as any HTML element. You can retrieve a SVG node with the various query methods: <code>document.getElementsByName(name)</code>, <code>document.getElementById(id)</code>, <code>document.getElementsByClassName(className)</code>, <code>document.querySelector()</code>, and <code>document.querySelectorAll(selector)</code>. This works just like it does with HTML elements.</p>
<p>However, to work with the attributes of a SVG element, you must use the <code>setAttributeNS(ns, attr)</code> and <code>getAttributeNS(ns, attr)</code> respectively, as the SVG attributes are part of the SVG namespace, <em>not</em> the HTML (default) namespace.</p>
<p>The example below uses JavaScript to resize the circle based on a HTML <code>&lt;input&gt;</code> element:</p>
<svg viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg">
  <circle id="my-circle" cx="150" cy="50" r="40" fill="rgb(121, 60, 204)"/>
</svg>
<input id="radius-input" type="number" value="50" max="100" min="0">
<script>
  var input = document.getElementById('radius-input');
  input.addEventListener('change', function(event)
  {
    event.preventDefault();
    var radius = event.target.value;
    var circle = document.getElementById('my-circle');
    circle.setAttributeNS(null, 'r', radius);
  });
</script>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">viewBox</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0 0 300 100&#34;</span> <span style="color:#a6e22e">xmlns</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">circle</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;my-circle&#34;</span> <span style="color:#a6e22e">cx</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;150&#34;</span> <span style="color:#a6e22e">cy</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;40&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">svg</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;radius-input&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;number&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;50&#34;</span> <span style="color:#a6e22e">max</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">min</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;rgb(121, 60, 204)&#34;</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">input</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;radius-input&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">input</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;change&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">event</span>)
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">preventDefault</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">radius</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">value</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">circle</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;my-circle&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">circle</span>.<span style="color:#a6e22e">setAttributeNS</span>(<span style="color:#66d9ef">null</span>, <span style="color:#e6db74">&#39;r&#39;</span>, <span style="color:#a6e22e">radius</span>);
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

          </section>

        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cc/cc-120/textbook/-/commit/c37ee26a935ef0bce5fc78e2f9988727b17560c9">Aug 11, 2023</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cc120/js/clipboard.min.js?1692723302" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc120/js/perfect-scrollbar.min.js?1692723302" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc120/js/theme.js?1692723302" defer></script>
  </body>
</html>
